pipeline {
    agent any
    tools {
            maven 'maven-3.8.3'
            jdk 'jdk8'
            junit 'junit'
    }
    stages {
        stage('build') {
            steps {
                echo 'Compiling the java source code'
                bat 'mvn compile'

            }
        }
        stage('run') {
            steps {
                echo 'Running the compiled java code.'
                bat 'mvn test'

            }
        }
           stage('report') {
                    steps {
                        echo 'Running the compiled java code.'
                        bat 'junit "**/target/surefire-reports/*.xml"'

                    }
                }
    }
}