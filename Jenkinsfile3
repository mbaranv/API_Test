pipeline {
    agent any
    tools {
            maven 'maven-3.8.3'


    }

    stages {
        stage('Install Dependencies') {
          steps {
          bat 'npm install -g newman'
          }
          }
        stage('build') {
            steps {
                echo 'Compiling the java source code'
                bat 'mvn compile'

            }
        }
        stage('run') {
            steps {
                echo 'Running the compiled java code.'
                bat 'mvn test'

            }
        }
           stage('postman') {
                    steps {

                               bat 'newman run C:/Users/Baran/Desktop/oss_postman.json'
                                }

                }
    }
}