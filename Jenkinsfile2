pipeline {
    agent any
    tools {
            maven 'maven-3.8.3'
    }
    stages {
        stage('build') {
            steps {
                echo 'Compiling the java source code'
                bat 'mvn compile'
                echo 'Creating jar'
                bat 'mvn package'
            }
        }
        stage('run') {
            steps {
                echo 'Running the compiled java code.'
                bat 'java -cp API_Test-1.0-SNAPSHOT.jar allRequest.UserService'

            }
        }
    }
}